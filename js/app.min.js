import{initializeApp as R}from"https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";import{getFirestore as P}from"https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";var N={apiKey:"AIzaSyCmIXlBm6Yr0umZFS0n1s7m1CeIgu4Tp_4",authDomain:"portifolio-davi-3b30a.firebaseapp.com",projectId:"portifolio-davi-3b30a",storageBucket:"portifolio-davi-3b30a.firebasestorage.app",messagingSenderId:"528239006796",appId:"1:528239006796:web:6eccb93fdb3edb8b2590e9"};function _(){let a=R(N);return P(a)}function F(a){anime.timeline({easing:"easeInOutSine"}).add({targets:".splash-content",opacity:[0,1],duration:1200}).add({targets:".splash-line",height:"120px",duration:1e3}).add({targets:".splash",opacity:[1,0],delay:200,duration:1e3,complete:()=>{let o=document.querySelector(".splash");o&&(o.style.display="none");let r=document.querySelector(".app");r&&r.classList.remove("hidden"),B(),typeof a=="function"&&a()}})}function B(){anime({targets:".vertical-line",height:"180px",duration:2e3,easing:"easeInOutSine"}),anime({targets:".content",opacity:[0,1],translateY:[20,0],delay:100,duration:1800,easing:"easeOutExpo"}),anime({targets:".nav, .footer",opacity:[0,1],delay:1200,duration:1500,easing:"linear"}),H()}function H(){let a=document.querySelector(".hero-canvas");if(!a)return;let e=a.getContext("webgl",{alpha:!0,antialias:!0});if(!e)return;let o=`
    attribute vec2 a_pos;
    varying vec2 v_uv;
    void main() {
      v_uv = a_pos * 0.5 + 0.5;
      gl_Position = vec4(a_pos, 0.0, 1.0);
    }
  `,r=`
    precision mediump float;
    uniform vec2 u_res;
    uniform float u_time;
    uniform vec3 u_color;
    uniform float u_alphaScale;
    varying vec2 v_uv;

    float hash(vec2 p) {
      return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453123);
    }

    float noise(vec2 p) {
      vec2 i = floor(p);
      vec2 f = fract(p);
      vec2 u = f * f * (3.0 - 2.0 * f);
      float a = hash(i);
      float b = hash(i + vec2(1.0, 0.0));
      float c = hash(i + vec2(0.0, 1.0));
      float d = hash(i + vec2(1.0, 1.0));
      return mix(mix(a, b, u.x), mix(c, d, u.x), u.y);
    }

    float dotField(vec2 p, float scale, float jitter, float softness) {
      vec2 gp = p * scale;
      vec2 id = floor(gp);
      vec2 f = fract(gp) - 0.5;
      vec2 j = vec2(hash(id + 1.3), hash(id + 2.1)) - 0.5;
      f -= j * jitter;
      float d = length(f);
      float r = 0.035 + 0.02 * hash(id + 4.7);
      return smoothstep(r, r - softness, d);
    }

    void main() {
      vec2 p = v_uv - 0.5;
      p.x *= u_res.x / u_res.y;

      vec2 flow = vec2(
        sin(p.y * 1.6 + u_time * 0.08),
        cos(p.x * 1.2 + u_time * 0.06)
      );
      p += 0.03 * flow;

      float d1 = dotField(p + u_time * 0.006, 22.0, 0.22, 0.03);
      float d2 = dotField(p * 1.1 - u_time * 0.005, 36.0, 0.18, 0.025);
      float d3 = dotField(p * 0.9 + u_time * 0.004, 16.0, 0.24, 0.035);

      float dots = clamp(d1 * 0.55 + d2 * 0.5 + d3 * 0.35, 0.0, 1.0);
      float fog = smoothstep(0.25, 1.0, noise(p * 2.6 + u_time * 0.03)) * 0.04;

      float alpha = clamp((dots * 0.45 + fog) * u_alphaScale, 0.0, 0.65);
      vec3 color = u_color * (0.55 + 0.25 * dots);

      gl_FragColor = vec4(color, alpha);
    }
  `;function c(l,n){let g=e.createShader(l);return e.shaderSource(g,n),e.compileShader(g),g}let t=c(e.VERTEX_SHADER,o),u=c(e.FRAGMENT_SHADER,r),i=e.createProgram();e.attachShader(i,t),e.attachShader(i,u),e.linkProgram(i);let d=e.getAttribLocation(i,"a_pos"),m=e.getUniformLocation(i,"u_res"),x=e.getUniformLocation(i,"u_time"),h=e.getUniformLocation(i,"u_color"),b=e.getUniformLocation(i,"u_alphaScale"),f=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,f),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),e.STATIC_DRAW),e.clearColor(0,0,0,0),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA);function y(){let l=a.getBoundingClientRect(),n=window.devicePixelRatio||1;a.width=Math.max(1,Math.floor(l.width*n)),a.height=Math.max(1,Math.floor(l.height*n)),e.viewport(0,0,a.width,a.height)}y(),window.ResizeObserver?new ResizeObserver(y).observe(a):window.addEventListener("resize",y);let T=performance.now();function E(l){let n=l==="light",g=n?[.08,.08,.08]:[1,1,1],v=n?1.6:1;e.useProgram(i),e.uniform3f(h,g[0],g[1],g[2]),e.uniform1f(b,v)}let p=document.body.dataset.theme==="light"?"light":"dark";E(p),document.addEventListener("themechange",l=>{E(l.detail)});function s(){let l=(performance.now()-T)/1e3;e.clear(e.COLOR_BUFFER_BIT),e.useProgram(i),e.bindBuffer(e.ARRAY_BUFFER,f),e.enableVertexAttribArray(d),e.vertexAttribPointer(d,2,e.FLOAT,!1,0,0),e.uniform2f(m,a.width,a.height),e.uniform1f(x,l),e.drawArrays(e.TRIANGLE_STRIP,0,4),requestAnimationFrame(s)}s()}var $={pt:{splash:"Portf\xC7\xFClio de<br><strong>Davi Manieri</strong>",name:"DAVI MANIERI",role:"ENGENHEIRO DE COMPUTA\xC7\xCE\xC7\u0178O",subtitle:"Interfaces silenciosas.<br>C\xC7\xFCdigo com prop\xC7\xFCsito.",enter:"Entrar",copyright:"\xB6\xB8 2026",location:"Brasil"},en:{splash:"Portfolio of<br><strong>Davi Manieri</strong>",name:"DAVI MANIERI",role:"COMPUTER ENGINEER",subtitle:"Silent interfaces.<br>Purpose-driven code.",enter:"Enter",copyright:"\xB6\xB8 2026",location:"Brazil"}};function C(){let a=document.getElementById("language-switcher");a&&a.addEventListener("change",e=>{z(e.target.value)})}function z(a){document.querySelectorAll("[data-i18n]").forEach(e=>{let o=e.getAttribute("data-i18n");e.innerHTML=$[a][o]})}import{collection as k,getDocs as I}from"https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";function D(a){let e={Home:`Ol\xA0! Meu nome \u201A Davi Manieri, sou T\u201Acnico de Desenvolvimento de Sistemas e tenho forma\u2021\xC6o conclu\xA1da em Python, al\u201Am de habilidades com outras linguagens de programa\u2021\xC6o, l\xA2gica e exatas, juntamente com a dedica\u2021\xC6o e o empenho em cada atividade que me \u201A requisitada!
Estou \u2026 disposi\u2021\xC6o para realizar trabalhos que estejam inseridos dentro do meu contexto de forma\u2021\xC6o acad\u02C6mica!`,Projetos:"Carregando projetos...",Experiencia:"Carregando experiencia...",Certificados:"Carregando certificados...","Fale comigo":`- LinkedIn: <a href="https://www.linkedin.com/in/davi-ponce-manieri/" target="_blank" rel="noopener">linkedin.com/in/davi-ponce-manieri</a>
- GitHub: <a href="https://github.com/dvmanieri44" target="_blank" rel="noopener">github.com/dvmanieri44</a>
- Telefone: +55 (16) 997037115
- Email: dvponce3@gmail.com`},o=document.querySelector("[data-panel]"),r=document.querySelectorAll(".menu-btn");if(!o||r.length===0)return;function c(t){o.classList.add("is-animating"),window.setTimeout(()=>{if(t==="Projetos"){o.innerHTML=e[t],o.classList.remove("is-animating"),O(o,a);return}if(t==="Experiencia"){o.innerHTML=e[t],o.classList.remove("is-animating"),U(o,a);return}if(t==="Certificados"){o.innerHTML=e[t],o.classList.remove("is-animating"),G(o,a);return}o.innerHTML=e[t]||t,o.classList.remove("is-animating")},180)}r.forEach(t=>{t.addEventListener("click",()=>{t.tagName==="A"&&t.hasAttribute("download")||c(t.textContent.trim())})})}function w(a){return String(a??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/'/g,"&#39;")}function S(a){if(!a)return null;if(typeof a.toDate=="function")return a.toDate();if(typeof a.seconds=="number")return new Date(a.seconds*1e3);let e=new Date(a);return Number.isNaN(e.getTime())?null:e}function A(a){let e=S(a);return e?e.toLocaleDateString("pt-BR"):""}async function O(a,e){try{let r=(await I(k(e,"projects"))).docs.map(t=>({id:t.id,...t.data()}));if(r.sort((t,u)=>{let i=S(t.dataInicio)?.getTime()??0,d=S(u.dataInicio)?.getTime()??0;return i-d}),r.length===0){a.innerHTML="Nenhum projeto cadastrado.";return}let c=r.map(t=>{let u=w(t.title),i=w(t.descricao),d=typeof t.url=="string"?t.url:"",m=A(t.dataInicio),x=A(t.dataFinal),h=t.finalizado?"Finalizado":"Em andamento",f=[[m,x].filter(Boolean).join(" - "),h].filter(Boolean).join("  \x07 "),y=d?`<a class="project-link" href="${w(d)}" target="_blank" rel="noopener">Abrir projeto</a>`:"";return`
        <li class="project-item">
          <div class="project-title">${u||"Projeto"}</div>
          ${f?`<div class="project-meta">${f}</div>`:""}
          ${i?`<div class="project-desc">${i}</div>`:""}
          ${y}
        </li>
      `}).join("");a.innerHTML=`<ul class="project-list">${c}</ul>`}catch{a.innerHTML="N\xC6o foi poss\xA1vel carregar os projetos."}}async function U(a,e){try{let r=(await I(k(e,"experiences"))).docs.map(t=>({id:t.id,...t.data()}));if(r.sort((t,u)=>{let i=S(t.dataEntrada)?.getTime()??0;return(S(u.dataEntrada)?.getTime()??0)-i}),r.length===0){a.innerHTML="Nenhuma experiencia cadastrada.";return}let c=r.map(t=>{let u=w(t.empresa),i=w(t.cargo),d=A(t.dataEntrada),m=t.trabalhoAtual?"Atual":A(t.dataSaida),x=[d,m].filter(Boolean).join(" - "),h=t.trabalhoAtual?"Trabalho atual":"",b=[x,h].filter(Boolean).join("  \xB7  ");return`
        <li class="experience-item">
          <span class="experience-dot"></span>
          <div class="experience-card">
            <div class="experience-role">${i||"Cargo"}</div>
            <div class="experience-company">${u||"Empresa"}</div>
            ${b?`<div class="experience-meta">${b}</div>`:""}
          </div>
        </li>
      `}).join("");a.innerHTML=`<ul class="experience-timeline">${c}</ul>`}catch{a.innerHTML="N\u2019o foi poss\xADvel carregar as experiencias."}}async function G(a,e){try{let r=(await I(k(e,"certificates"))).docs.map(t=>({id:t.id,...t.data()}));if(r.sort((t,u)=>{let i=t.formacao?1:0,d=u.formacao?1:0;if(i!==d)return d-i;let m=S(t.dataInicio)?.getTime()??0;return(S(u.dataInicio)?.getTime()??0)-m}),r.length===0){a.innerHTML="Nenhum certificado cadastrado.";return}let c=r.map(t=>{let u=w(t.title),i=w(t.instituicao),d=A(t.dataInicio),m=t.atual?"Atual":A(t.dataFinal),x=[d,m].filter(Boolean).join(" - "),h=t.atual?"Em andamento":"",b=t.formacao?"Formacao":"",f=[x,h,b].filter(Boolean).join("  \xB7  ");return`
        <li class="certificate-item">
          <div class="certificate-title">${u||"Certificado"}</div>
          ${i?`<div class="certificate-org">${i}</div>`:""}
          ${f?`<div class="certificate-meta">${f}</div>`:""}
        </li>
      `}).join("");a.innerHTML=`<ul class="certificate-list">${c}</ul>`}catch{a.innerHTML="Nao foi possivel carregar os certificados."}}import{addDoc as Y,collection as V}from"https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";var q=_();C();X();K();F(()=>{D(q)});function K(){let a=document.querySelector(".footer span");if(!a)return;let e=0;a.addEventListener("click",()=>{if(e+=1,e<5)return;e=0;let o=window.prompt("Digite a senha");o==="2040"?W(q):o!==null&&window.alert("Senha incorreta.")})}function X(){let a=document.getElementById("theme-switcher");if(!a)return;let e=window.localStorage.getItem("theme"),o=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:!0,r=e||(o?"dark":"light");M(r),a.value=r,a.addEventListener("change",c=>{M(c.target.value)})}function M(a){let e=a==="light"?"light":"dark";e==="light"?document.body.dataset.theme="light":document.body.removeAttribute("data-theme"),window.localStorage.setItem("theme",e),document.dispatchEvent(new CustomEvent("themechange",{detail:e}))}function W(a){if(!a||document.querySelector(".project-popup-overlay"))return;Z();let e=document.createElement("div");e.className="project-popup-overlay";let o=[{key:"projects",label:"Projetos",title:"Novo projeto",success:"Projeto salvo."},{key:"certificates",label:"Certificados",title:"Novo certificado",success:"Certificado salvo."},{key:"experiences",label:"Experiencia",title:"Nova experiencia",success:"Experiencia salva."}],r=new Map(o.map(p=>[p.key,p])),c=document.createElement("div");c.className="project-popup-card",c.innerHTML=`
    <div class="project-popup-shell">
      <nav class="project-popup-nav" aria-label="Adicionar">
        ${o.map((p,s)=>`
            <button type="button" class="project-popup-tab${s===0?" is-active":""}" data-type="${p.key}">
              ${p.label}
            </button>
          `).join("")}
      </nav>
      <div class="project-popup-body">
        <div class="project-popup-title" data-popup-title>${o[0].title}</div>
        <form class="project-popup-form" data-type="${o[0].key}">
          <div class="project-popup-section" data-section="projects">
            <label>
              Titulo
              <input name="title" type="text" autocomplete="off" required>
            </label>
            <label>
              Descricao
              <textarea name="descricao" rows="3"></textarea>
            </label>
            <label>
              URL
              <input name="url" type="url" autocomplete="off">
            </label>
            <div class="project-popup-row">
              <label>
                Inicio
                <input name="dataInicio" type="date">
              </label>
              <label>
                Fim
                <input name="dataFinal" type="date">
              </label>
            </div>
            <label class="project-popup-check">
              <input name="finalizado" type="checkbox">
              Finalizado
            </label>
          </div>
          <div class="project-popup-section is-hidden" data-section="certificates">
            <label>
              Titulo
              <input name="certTitulo" type="text" autocomplete="off" required>
            </label>
            <label>
              Instituicao emissora
              <input name="certInstituicao" type="text" autocomplete="off" required>
            </label>
            <label class="project-popup-check">
              <input name="certFormacao" type="checkbox">
              Formacao
            </label>
            <div class="project-popup-row">
              <label>
                Data de inicio
                <input name="certInicio" type="date" required>
              </label>
              <label>
                Data de fim
                <input name="certFim" type="date">
              </label>
            </div>
            <label class="project-popup-check">
              <input name="certAtual" type="checkbox">
              Fazendo atualmente
            </label>
          </div>
          <div class="project-popup-section is-hidden" data-section="experiences">
            <label>
              Nome da empresa
              <input name="empresa" type="text" autocomplete="off" required>
            </label>
            <label>
              Nome do cargo
              <input name="cargo" type="text" autocomplete="off" required>
            </label>
            <div class="project-popup-row">
              <label>
                Data de entrada
                <input name="entrada" type="date" required>
              </label>
              <label>
                Data de saida
                <input name="saida" type="date">
              </label>
            </div>
            <label class="project-popup-check">
              <input name="trabalhoAtual" type="checkbox">
              Trabalho atual
            </label>
          </div>
          <div class="project-popup-actions">
            <button type="button" class="project-popup-cancel">Cancelar</button>
            <button type="submit" class="project-popup-submit">Salvar</button>
          </div>
          <div class="project-popup-status" aria-live="polite"></div>
        </form>
      </div>
    </div>
  `,e.appendChild(c),document.body.appendChild(e);let t=c.querySelector(".project-popup-form"),u=c.querySelector(".project-popup-cancel"),i=c.querySelector(".project-popup-status"),d=c.querySelector("[data-popup-title]"),m=Array.from(c.querySelectorAll(".project-popup-tab")),x=Array.from(c.querySelectorAll(".project-popup-section")),h=c.querySelector('input[name="saida"]'),b=c.querySelector('input[name="trabalhoAtual"]'),f=c.querySelector('input[name="certFim"]'),y=c.querySelector('input[name="certAtual"]'),T=p=>{x.forEach(s=>{let l=s.dataset.section===p;s.classList.toggle("is-hidden",!l),s.querySelectorAll("input, textarea, select").forEach(n=>{n.disabled=!l})})};function E(){e.remove()}if(u.addEventListener("click",E),e.addEventListener("click",p=>{p.target===e&&E()}),b&&h){let p=()=>{let s=b.checked;h.disabled=s,s&&(h.value="")};b.addEventListener("change",p),p()}if(y&&f){let p=()=>{let s=y.checked;f.disabled=s,s&&(f.value="")};y.addEventListener("change",p),p()}m.forEach(p=>{p.addEventListener("click",()=>{let s=p.dataset.type;if(!r.has(s))return;m.forEach(n=>n.classList.toggle("is-active",n===p));let l=r.get(s);d.textContent=l.title,t.dataset.type=s,T(s),i.textContent=""})}),T(t.dataset.type||"projects"),t.addEventListener("submit",async p=>{if(p.preventDefault(),t.dataset.submitting==="true")return;t.dataset.submitting="true",i.textContent="Salvando...";let s=t.dataset.type||"projects",l=r.get(s)||o[0],n=new FormData(t),g={};if(s==="projects"){let v=n.get("dataInicio"),j=n.get("dataFinal");g={title:String(n.get("title")||""),descricao:String(n.get("descricao")||""),url:String(n.get("url")||""),dataInicio:v?new Date(String(v)):null,dataFinal:j?new Date(String(j)):null,finalizado:n.get("finalizado")==="on"}}else if(s==="certificates"){let v=n.get("certInicio"),j=n.get("certFim"),L=n.get("certAtual")==="on";g={title:String(n.get("certTitulo")||""),instituicao:String(n.get("certInstituicao")||""),dataInicio:v?new Date(String(v)):null,dataFinal:L?null:j?new Date(String(j)):null,atual:L,formacao:n.get("certFormacao")==="on"}}else if(s==="experiences"){let v=n.get("entrada"),j=n.get("saida"),L=n.get("trabalhoAtual")==="on";g={empresa:String(n.get("empresa")||""),cargo:String(n.get("cargo")||""),dataEntrada:v?new Date(String(v)):null,dataSaida:L?null:j?new Date(String(j)):null,trabalhoAtual:L}}try{await Y(V(a,s),g),i.textContent=l.success,t.reset(),window.setTimeout(E,800)}catch{i.textContent="Erro ao salvar o projeto."}finally{t.dataset.submitting="false"}})}function Z(){if(document.getElementById("project-popup-styles"))return;let a=document.createElement("style");a.id="project-popup-styles",a.textContent=`
    .project-popup-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      z-index: 9999;
    }
    .project-popup-card {
      width: min(760px, 94vw);
      background: #0f1115;
      color: #f4f6fb;
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.35);
      font-family: inherit;
    }
    .project-popup-shell {
      display: flex;
      gap: 18px;
      align-items: stretch;
    }
    .project-popup-nav {
      display: flex;
      flex-direction: column;
      gap: 8px;
      min-width: 160px;
      padding-right: 16px;
      border-right: 1px solid rgba(255, 255, 255, 0.12);
    }
    .project-popup-tab {
      border: 1px solid rgba(255, 255, 255, 0.15);
      background: transparent;
      color: inherit;
      padding: 8px 10px;
      text-align: left;
      font-size: 12px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      cursor: pointer;
      border-radius: 10px;
      transition: border-color 0.2s ease, background 0.2s ease;
      font-family: inherit;
    }
    .project-popup-tab.is-active {
      border-color: rgba(255, 255, 255, 0.45);
      background: rgba(255, 255, 255, 0.08);
    }
    .project-popup-body {
      flex: 1;
      min-width: 0;
    }
    .project-popup-title {
      font-size: 18px;
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }
    .project-popup-section.is-hidden {
      display: none;
    }
    .project-popup-form label {
      display: flex;
      flex-direction: column;
      gap: 6px;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 12px;
    }
    .project-popup-form input,
    .project-popup-form textarea {
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: 8px;
      padding: 10px 12px;
      color: inherit;
      font-size: 14px;
      font-family: inherit;
    }
    .project-popup-form textarea {
      resize: vertical;
    }
    .project-popup-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 12px;
    }
    .project-popup-check {
      flex-direction: row;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      margin-bottom: 16px;
    }
    .project-popup-check input {
      width: 16px;
      height: 16px;
      margin: 0;
    }
    .project-popup-actions {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 8px;
    }
    .project-popup-actions button {
      border: none;
      border-radius: 999px;
      padding: 8px 18px;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      cursor: pointer;
      font-family: inherit;
    }
    .project-popup-cancel {
      background: transparent;
      color: inherit;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    .project-popup-submit {
      background: #f4f6fb;
      color: #0f1115;
    }
    .project-popup-status {
      margin-top: 10px;
      font-size: 12px;
      min-height: 16px;
      opacity: 0.8;
    }
    @media (max-width: 640px) {
      .project-popup-shell {
        flex-direction: column;
      }
      .project-popup-nav {
        flex-direction: row;
        padding-right: 0;
        padding-bottom: 12px;
        border-right: none;
        border-bottom: 1px solid rgba(255, 255, 255, 0.12);
      }
      .project-popup-tab {
        flex: 1;
        text-align: center;
      }
    }
  `,document.head.appendChild(a)}
